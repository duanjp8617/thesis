\section{Summary}
\label{sec:nfvactor-conclusion}

\subsection{Comparison with Existing Work}
\label{sec:nfvactor-related-work}

NF instances are typically created as software modules running on separate VMs or containers in existing studies \cite{gember2012stratos, palkar2015e2, rajagopalan2013split, khalid2016paving, gember2015opennf, zhang2016flurries}. On contrary, \nfactor~customizes a runtime system to run flow actors and embeds service chain processing within the flow actor abstraction, to achieve transparent and highly efficient failure resilience guarantee.


Among the existing studies, StatelessNF \cite{201545} shares similar design goals with~\nfactor, \ie, to enable transparent system scalability and failure resilience. However, the methodology used by StatelessNF is orthogonal to that of~\nfactor: it stores flow states in a reliable database \cite{ongaro2011fast} to achieve failure resilience, while~\nfactor~exploits the actor model. Compared with StatelessNF,~\nfactor~can approach line-rate packet processing and does not rely on RDMA equipment.

Besides, the Click modular router \cite{kohler2000click} is the first work to introduce modular design for simplifying NF construction.~The module graph scheduler used by~\nfactor~is partially inherited from the scheduler of Click. However,~\nfactor~uses such a scheduler to speed up actor processing. Flurries \cite{zhang2016flurries} proposes fine-grained per-flow NF processing, by dynamically assigning a flow to a lightweight NF. Sharing some similarities, \nfactor~enables micro service chain processing of each flow in one actor, but focuses on providing transparent failure tolerance based on the actor model. OpenBox \cite{OpenBox} merges the processing logic of multiple VNFs, therefore improving the modularity and processing performance. Even though \nfactor~uses the traditional sequential service chain, we believe that the flexibility of actor model can help us adopt the idea of OpenBox in \nfactor, which we leave for future exploration. StateAlyzr \cite{khalid2016paving} uses static analysis to automate flow state extraction and simply human effort for enabling flow migration. However, enabling high-performance flow migration still requires a holistic design like~\nfactor.

\subsection{Conclusion}

We have presented \nfactor, an NFV system using actor model to achieve transparent and highly efficient failure resilience. \nfactor~advocates a novel one-flow-one-actor principle to improve the parallelism and performance of resilience operations, while the efficiency of the actor model is guaranteed by a high-performance runtime. Our experiments show that \nfactor~achieves good scalability and high packet processing speed, as well as fast flow migration and failure recovery.

%Nevertheless, \nfactor~may not be able to support all kinds of network functions and there is still room for further improvement of our implementation. However, we have demonstrated that even with our current prototype implementation, we can achieve good resilience performance for several NFs in a transparent way.
Powered by a completely new architecture, \nfactor~does require NFs to be rewritten or ported using the provided APIs. We believe that there will be a growing need for implementing new NFs with further adoption of the NFV paradigm and the flexible API design of~\nfactor~makes it possible to port a wide range of existing NFs. Besides, our holistic design approach will be among the method that NF developers may choose from, valuable for decoupling complexity of critical system services from the core logic of NF. %In addition, though focusing on stateful NFs, \nfactor~can handle stateless NFs with ease, which can also benefit from its fast, distributed flow migration (\nfactor~eliminates potential packet re-ordering caused by directly changing the path of a flow in existing systems).

Finally, by combining~\nfactor~with \textit{ScalIMS}, the scalability of NFV systems can be extended to geo-distributed datacenters. Inside a single datacenter, the high-performance flow migration and lightweight NF replication provided by~\nfactor~make NFV systems better resilient to workload fluctuation and potential hardware failures. 

%To achieve clean separation between flow state and NF
%core logic, \nfactor~requires NFs to be rewritten using our provided APIs. Our belief is that with further adoption of the NFV paradigm, more and more new VNFs need to be implemented, and our holistic design will be among the architecture that VNF developers may choose from, valuable for decoupling complexity of critical system services from the core logic of NF. In addition, though focusing on stateful NFs, \nfactor~can handle stateless NFs with ease, which can also benefit from its fast, distributed flow migration (\nfactor~eliminates potential packet re-ordering caused by directly changing the path of a flow in existing systems).

%To achieve clean separation between flow state and NF
%core logic, \nfactor~requires NFs to be rewritten using our provided APIs. Our belief is that with further adoption of the NFV paradigm, more and more new VNFs need to be implemented, and our holistic design will be among the architecture that VNF developers may choose from, valuable for decoupling complexity of critical system services from the core logic of NF. In addition, though focusing on stateful NFs, \nfactor~can handle stateless NFs with ease, which can also benefit from its fast, distributed flow migration (\nfactor~eliminates potential packet re-ordering caused by directly changing the path of a flow in existing systems).

%To achieve clean separation between flow state and NF
%core logic, \nfactor~requires NFs to be rewritten using our provided APIs. Our belief is that with further adoption of the NFV paradigm, more and more new VNFs need to be implemented, and our holistic design will be among the architecture that VNF developers may choose from, valuable for decoupling complexity of critical system services from the core logic of NF. In addition, though focusing on stateful NFs, \nfactor~can handle stateless NFs with ease, which can also benefit from its fast, distributed flow migration (\nfactor~eliminates potential packet re-ordering caused by directly changing the path of a flow in existing systems).

%To achieve clean separation between flow state and NF
%core logic, \nfactor~requires NFs to be rewritten using our provided APIs. Our belief is that with further adoption of the NFV paradigm, more and more new VNFs need to be implemented, and our holistic design will be among the architecture that VNF developers may choose from, valuable for decoupling complexity of critical system services from the core logic of NF. In addition, though focusing on stateful NFs, \nfactor~can handle stateless NFs with ease, which can also benefit from its fast, distributed flow migration (\nfactor~eliminates potential packet re-ordering caused by directly changing the path of a flow in existing systems).

%To achieve clean separation between flow state and NF
%core logic, \nfactor~requires NFs to be rewritten using our provided APIs. Our belief is that with further adoption of the NFV paradigm, more and more new VNFs need to be implemented, and our holistic design will be among the architecture that VNF developers may choose from, valuable for decoupling complexity of critical system services from the core logic of NF. In addition, though focusing on stateful NFs, \nfactor~can handle stateless NFs with ease, which can also benefit from its fast, distributed flow migration (\nfactor~eliminates potential packet re-ordering caused by directly changing the path of a flow in existing systems).

%To achieve clean separation between flow state and NF core logic, \nfactor~requires NFs to be rewritten using our provided APIs. Our belief is that with further adoption of the NFV paradigm, more and more new VNFs need to be implemented, and our holistic design will be among the architecture that VNF developers may choose from, valuable for decoupling complexity of critical system services from the core logic of NF. In addition, though focusing on stateful NFs, \nfactor~can handle stateless NFs with ease, which can also benefit from its fast, distributed flow migration (\nfactor~eliminates potential packet re-ordering caused by directly changing the path of a flow in existing systems).
